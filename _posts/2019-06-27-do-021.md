---
categories: dev-ops
layout: training
subtitle: Initial setup and configuration
title: Kubernetes
time: 19:00 - 21:30
event_id: do-020
layout: training
payment_id: b7f66d7f9a418
tags: cloud-native 2H Wed kubernetes
---
### Какая цель тренинга?

Начать с настройки локального окружения для Kubernetes - довольно логичный шаг. И раз уж поднимаем эту тему, ее однозначно стоит расширить несколькими дополнительными инструментами. 

1. Helm - это пакетный менеджер для Kubernetes. Идея, подкупающая своей новизной - репозиторий, из которого скачиваешь нужный пакет - набор ресурсов - и релизишь. В теории все легко и просто, на практике - десятки статей с критикой и предупреждениями не использовать. Тем не менее, очень много готовых рецептов уже доступно в репозиториях и установка сторонних сервисов часто начинается с helm install - начнем и мы - как минимум для понимания контекста. 
 2. Операторы - свежий виток переосмысления повышенной сложности эксплуатации определенных ресурсов. Хоть helm и предоставляет установку чего-либо в одну команду, на практике комплексным продуктам (например, слой приложений для мониторинга, или кластер postgres с pgbouncer, бекапами и репликацией) подобный подход не подходит. Упростить это должны были операторы, а на практике - мы с ними и познакомимся.
3. 3 элемент локального окружения - небольшая утилита, единственной функцией которой является замена работающего контейнера в кластере его локальной версией, с поддержкой монтирования локальной файловой системы и полным погружением в контекст кластера - секреты, сервисные аккаунты, открытые порты - все переходит под ваш контроль, с возможностью поставить breakpoint. Да, напоминает аналог SFTP и редактирования файлов "по-живому", с небольшим исключением - после отладки, контейнеры меняются местами и все продолжает работать в штатном режиме.
4. Ну и по традиции, вслед за Docker, мы научимся запускать K8S в режиме Kube-in-Docker, с возможностью запуска контейнеров в контейнере (но в другом Runtime). Это вовсе не штатный режим, но полезен для начинающих он тем, что за 2 секунды старта контейнера вы получаете чистый настроеный куб, занимающий в ОЗУ 100 мегабайт. На первых порах мастер-ноду часто придется пересоздавать после экспериментов, и такой режим просто незаменим.

### На кого расчитан тренинг?
Опыт работы с Docker и знание базовых концептов Kube обязательно - темы для старта довольно требовательные, и легко можно потерять суть происходящего. Ноутбук тоже не очень рекомендую, так как без опыта настройки можно потратить много времени. По завершению воркшопа все скрипты будут доступны.
Рекомендуется посетит вводный урок [Kubernetes: Technology kick-off](/kubernetes-technology-intro/)
